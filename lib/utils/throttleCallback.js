// Generated by CoffeeScript 1.6.2
(function() {
  define([], function() {
    return function(max) {
      var calls;

      if (max == null) {
        max = 20;
      }
      calls = 0;
      return function(callback) {
        var args,
          _this = this;

        args = Array.prototype.slice.call(arguments);
        args.shift();
        if (!(++calls % max)) {
          calls = 0;
          return setTimeout((function() {
            return callback.apply(_this, args);
          }), 0);
        } else {
          return callback.apply(this, args);
        }
      };
    };
  });

}).call(this);
