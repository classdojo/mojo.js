// Generated by CoffeeScript 1.4.0
(function() {

  define(["eventemitter2"], function(events) {
    var EventTree;
    return EventTree = (function() {
      /*
      */

      function EventTree() {
        this._em = new events.EventEmitter2({
          wildcard: true
        });
      }

      /*
      */


      EventTree.prototype.on = function(key, callback) {
        return this._em.on(this._getEvent(key), callback);
      };

      /*
      */


      EventTree.prototype.once = function(key, callback) {
        return this._em.once(this._getEvent(key), callback);
      };

      EventTree.prototype.emit = function(key, value) {
        return this._em.emit(key, value);
      };

      /*
      */


      EventTree.prototype._getEvent = function(key) {
        if (!key) {
          return "**";
        }
        if (~key.indexOf("*")) {
          return key;
        }
        return "" + key + ".**";
      };

      return EventTree;

    })();
  });

}).call(this);
