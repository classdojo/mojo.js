// Generated by CoffeeScript 1.4.0
(function() {
  var Config, cstep;

  cstep = require("../");

  /*
   simulated configuration class
  */


  Config = (function() {

    function Config() {
      this._source = {};
    }

    Config.prototype.load = cstep(function(next) {
      console.log("load");
      return setTimeout(next, 500);
    });

    Config.prototype.set = cstep(function(key, value, next) {
      console.log("set %s:%s", key, value);
      this._source[key] = value;
      return setTimeout(next, 500);
    });

    Config.prototype.save = cstep(function(next) {
      console.log("save");
      return setTimeout(next, 500);
    });

    return Config;

  })();

  new Config().load().set("hello", "world").save(function() {
    return console.log("DONE");
  });

}).call(this);
